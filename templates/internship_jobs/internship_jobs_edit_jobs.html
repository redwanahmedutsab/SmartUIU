{% load static %}
<!doctype html>
<html lang="en">
{% include 'expendable/head.html' %}

<style>
    .card {
        border-radius: 15px;
        background: #f1f5f9;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
        padding: 30px;
    }

    .form-control, .form-select, .form-control-file {
        border-radius: 10px;
        border: 1px solid #e1e5ea;
        padding: 12px 20px;
        background-color: #fff;
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.03);
    }

    .form-control:focus {
        border-color: #1f76de;
        box-shadow: 0 0 10px rgba(31, 118, 222, 0.2);
    }

    .btn-submit {
        background-color: #1f76de;
        border: none;
        border-radius: 50px;
        padding: 12px 40px;
        color: #fff;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .btn-submit:hover {
        background-color: #105aad;
    }

    .section-hero {
        border-bottom-left-radius: 25px;
        border-bottom-right-radius: 25px;
        overflow: hidden;
    }

    .rounded-input {
        border-radius: 10px !important;
    }

    .shadowed-input {
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);
    }
</style>

<body id="top">
{% include 'expendable/chatbot_and_loading.html' %}

<div class="site-wrap">
    <!-- NAVBAR -->
    {% include 'expendable/navbar.html' %}

    <!-- HOME -->
    <section class="section-hero overlay inner-page bg-image"
             style="background-image: url('{% static "images/hero_1.jpg" %}');"
             id="home-section">
        <div class="container">
            <div class="row">
                <div class="col-md-7">
                    <h1 class="text-white font-weight-bold">Edit Job/Internship</h1>
                    <div class="custom-breadcrumbs">
                        <a href="#">Home</a> <span class="mx-2 slash">/</span>
                        <a href="{% url 'internship_and_job' %}">Jobs</a> <span class="mx-2 slash">/</span>
                        <span class="text-white"><strong>Edit Job/Internship</strong></span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="container mt-5 mb-5">
        <div class="card">
            <h3 class="text-center mb-4">Edit Job or Internship</h3>
            <form method="POST" enctype="multipart/form-data" action="{% url 'internship_job_edit_job' job.id %}">
                {% csrf_token %}
                <!-- Job Title -->
                <div class="form-group">
                    <label for="job_title">Job/Internship Title</label>
                    <input type="text" class="form-control shadowed-input rounded-input" id="title"
                           name="title" value="{{ job.title }}" placeholder="Enter job title" required>
                </div>

                <!-- Company Name -->
                <div class="form-group">
                    <label for="company_name">Company Name</label>
                    <input type="text" class="form-control shadowed-input rounded-input" id="company"
                           name="company" value="{{ job.company }}" placeholder="Enter company name" required>
                </div>

                <!-- Job Description -->
                <div class="form-group">
                    <label for="job_description">Job Description</label>
                    <textarea class="form-control shadowed-input rounded-input" id="description"
                              name="description" rows="5"
                              placeholder="Provide a brief description of the job"
                              required>{{ job.description }}</textarea>
                </div>

                <!-- Responsibilities -->
                <div class="form-group">
                    <label for="responsibilities">Responsibilities</label>
                    <textarea class="form-control shadowed-input rounded-input" id="responsibilities"
                              name="responsibilities" rows="5"
                              placeholder="List the responsibilities of the role"
                              required>{{ job.responsibilities }}</textarea>
                </div>

                <!-- Education Requirements -->
                <div class="form-group">
                    <label for="education_requirements">Education Requirements</label>
                    <input type="text" class="form-control shadowed-input rounded-input" id="education_requirements"
                           name="education_requirements" value="{{ job.education_requirements }}"
                           placeholder="Enter education requirements" required>
                </div>

                <!-- Previous Experience -->
                <div class="form-group">
                    <label for="previous_experience">Previous Experience Needed</label>
                    <input type="text" class="form-control shadowed-input rounded-input" id="previous_experience"
                           name="previous_experience" value="{{ job.previous_experience }}"
                           placeholder="Enter required previous experience">
                </div>

                <!-- Skills Needed -->
                <div class="form-group">
                    <label for="skills_needed">Skills Needed</label>
                    <textarea class="form-control shadowed-input rounded-input" id="skills_needed"
                              name="skills_needed" rows="3"
                              placeholder="List the skills required for the job"
                              required>{{ job.skills_needed }}</textarea>
                </div>

                <!-- Other Requirements -->
                <div class="form-group">
                    <label for="other_requirements">Other Requirements (Optional)</label>
                    <textarea class="form-control shadowed-input rounded-input" id="other_requirements"
                              name="other_requirements" rows="3"
                              placeholder="List any other requirements">{{ job.other_requirements }}</textarea>
                </div>

                <!-- Job Type -->
                <div class="form-group">
                    <label for="job_type">Job Type</label>
                    <select class="form-control shadowed-input rounded-input" id="post_type" name="post_type" required>
                        <option value="full_time" {% if job.post_type == "full_time" %}selected{% endif %}>Full-Time
                        </option>
                        <option value="part_time" {% if job.post_type == "part_time" %}selected{% endif %}>Part-Time
                        </option>
                        <option value="intern" {% if job.post_type == "intern" %}selected{% endif %}>Internship</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="gender">Gender</label>
                    <select class="form-control shadowed-input rounded-input" id="gender" name="gender" required>
                        <option value="Any" {% if job.gender == "Any" %}selected{% endif %}>Any</option>
                        <option value="Male" {% if job.gender == "Male" %}selected{% endif %}>Male</option>
                        <option value="Female" {% if job.gender == "Female" %}selected{% endif %}>Female</option>
                    </select>
                </div>

                <!-- Job Location -->
                <div class="form-group">
                    <label for="job_location">Job Location</label>
                    <input type="text" class="form-control shadowed-input rounded-input" id="location"
                           name="location" value="{{ job.location }}" placeholder="Enter job location" required>
                </div>

                <!-- Salary Range -->
                <div class="form-group">
                    <label for="salary">Salary Range (Optional)</label>
                    <input type="text" class="form-control shadowed-input rounded-input" id="salary"
                           name="salary" value="{{ job.salary }}" placeholder="Enter salary range">
                </div>

                <!-- Company Logo -->
                <div class="form-group">
                    <label for="company_logo">Company Logo (Optional)</label>
                    <input type="file" class="form-control-file" id="logo" name="logo">
                </div>

                <!-- Experience Level -->
                <div class="form-group">
                    <label for="experience_level">Experience Level</label>
                    <select class="form-control shadowed-input rounded-input" id="experience_level"
                            name="experience_level">
                        <option value="entry_level" {% if job.experience_level == "entry_level" %}selected{% endif %}>
                            Entry-Level
                        </option>
                        <option value="mid_level" {% if job.experience_level == "mid_level" %}selected{% endif %}>
                            Mid-Level
                        </option>
                        <option value="senior_level" {% if job.experience_level == "senior_level" %}selected{% endif %}>
                            Senior-Level
                        </option>
                        <option value="all_levels" {% if job.experience_level == "all_levels" %}selected{% endif %}>All
                            Levels
                        </option>
                    </select>
                </div>

                <!-- Work Environment -->
                <div class="form-group">
                    <label for="work_environment">Work Environment</label>
                    <select class="form-control shadowed-input rounded-input" id="work_environment"
                            name="work_environment">
                        <option value="remote" {% if job.work_environment == "remote" %}selected{% endif %}>Remote
                        </option>
                        <option value="on_site" {% if job.work_environment == "on_site" %}selected{% endif %}>On-Site
                        </option>
                        <option value="hybrid" {% if job.work_environment == "hybrid" %}selected{% endif %}>Hybrid
                        </option>
                    </select>
                </div>

                <!-- Apply Button -->
                <div class="text-center">
                    <div class="d-inline-block">
                        <form method="POST" action="{% url 'internship_job_edit_job' job.id %}">
                            {% csrf_token %}
                            <button type="submit" name="update_job" class="btn-submit">Update Job</button>
                        </form>
                    </div>

                    <div class="d-inline-block ml-3">  <!-- Add margin left for spacing -->
                        <form method="POST" action="{% url 'internship_job_delete_job' job.id %}" class="mt-3"
                              onclick="return confirm('Are you sure you want to delete this job?')">
                            {% csrf_token %}
                            <button type="submit" name="delete_job" class="btn-submit" style="background-color: red;">
                                Delete Job
                            </button>
                        </form>
                    </div>
                </div>
            </form>
        </div>
    </div>

    {% include 'expendable/footer.html' %}
    {% include 'expendable/include.html' %}
</div>
</body>
</html>
